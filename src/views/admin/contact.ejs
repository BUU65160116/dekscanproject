<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title><%= title %></title>
  <link rel="stylesheet" href="/admin.css" />
</head>
<body>
   <%
// ‡πÅ‡∏õ‡∏•‡∏á "YYYY-MM-DD HH:mm:ss" (UTC ‡∏à‡∏≤‡∏Å Odoo) -> ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢
function toThaiLocal(utcStr) {
  if (!utcStr) return "-";
  try {
    const iso = String(utcStr).replace(" ", "T") + "Z"; // ‡∏ä‡∏µ‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠ UTC
    return new Date(iso).toLocaleString("th-TH", {
      timeZone: "Asia/Bangkok",
      hour12: false
    });
  } catch (e) {
    return utcStr; // ‡∏ñ‡πâ‡∏≤‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏•‡∏≤‡∏î ‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô
  }
}
  %>
  <header>
    <h1>üìá ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h1>
  </header>

  <div class="wrap">
    <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
    <section class="card">
      <div class="card-head">
        <h2>‡πÇ‡∏ï‡πä‡∏∞ <%= order.tableNo ?? "-" %> | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: <%= order.state %></h2>
        <div class="actions">
          <a class="soft" href="/admin/dashboard">‡∏Å‡∏•‡∏±‡∏ö Dashboard</a>
        </div>
      </div>

      <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (‡∏ä‡∏∑‡πà‡∏≠/‡πÄ‡∏ö‡∏≠‡∏£‡πå) -->
      <table class="table">
        <thead>
          <tr>
            <th>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
            <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå</th>
          </tr>
        </thead>
        <tbody>
          <% if (contact) { %>
            <tr>
              <td><%= contact.name %></td>
              <td><%= contact.phone %></td>
            </tr>
          <% } else { %>
            <tr>
              <td colspan="2" class="muted">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏ô‡∏µ‡πâ</td>
            </tr>
          <% } %>
        </tbody>
      </table>

      <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á + ‡πÄ‡∏ß‡∏•‡∏≤ -->
      <div class="muted" style="margin-top:8px">
        ‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á:
        <strong><%= (order.amountTotal - order.amountPaid).toFixed(2) %>‡∏ø</strong>
        |
        ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå: <%= toThaiLocal(order.dateOrderUtc) %>
      </div>

      <!-- TODO(‡∏™‡πÄ‡∏ï‡∏õ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ): ‡∏õ‡∏∏‡πà‡∏° "‡∏°‡∏≤‡∏£‡πå‡∏Å‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß" -->
    </section>
  </div>
</body>
</html>